/* ==UserStyle==
@name           Scratchr2
@namespace      github.com/mxmou
@version        2.0.0
@description    Makes the Scratchr2 site look more like Scratch 3.0
@author         Maximouse (https://scratch.mit.edu/users/Maximouse)
@homepageURL    https://github.com/mxmou/customize-scratch
@supportURL     https://github.com/mxmou/customize-scratch/issues
@updateURL      https://mxmou.github.io/customize-scratch/scratchr2.user.css
@license        MIT
@var            color    primary      "Primary color"               #4d97ff
@var            checkbox lightprimary "Black text on primary color (experimental!)" 0
@var            color    link         "Link color"                  #4d97ff
@var            color    active       "Link hover color"            #4280d7
@var            checkbox dark         "Dark mode (experimental!)"                   0
@preprocessor   stylus
==/UserStyle== */

/* TODO: sign in dropdown for lightprimary */

if not dark
    text = #575e75
    bg = #fcfcfc
    boxbg = #ffffff
    boxhead = #f2f2f2
else
    text = white
    bg = #202020
    boxbg = #282828
    boxhead = #333333

@-moz-document regexp("https://scratch.mit.edu/.*")
    /* Customization for 3.0-styled pages */
    #navigation, #navigation .dropdown
        background: primary
    if lightprimary
        #navigation .link > a
        #navigation .inner > ul > li.search .input[type=text]
        .account-nav .user-info
        #navigation .dropdown a:link
        #navigation .dropdown a:visited
        #navigation .dropdown a:active
        #topnav ul.site-nav li a
        #topnav ul.account-nav > li > span
        #topnav ul.account-nav ul.user-nav li a
        #topnav li.logout.divider input
        .djangobb .new_topic
        .follow-topic .follow-button:hover
        .blockpost .box-head
        .blockpost .box-head span.conr
        .blockpost .box-head a
        .blockpost .box-head a:link
        .blockpost .box-head a:active
        .blockpost .box-head a:hover
        .blockpost .box-head a:visited
            color: #575e75
        #navigation .inner > ul > li.search .input[type=text]::placeholder
            color: rgba(87, 94, 117, 0.75)
        #navigation .inner > ul > li.search .btn-search
        #navigation .messages > a
        #navigation .mystuff > a
        .account-nav .user-info::after
        #topnav form.search .glass
        #topnav ul.account-nav .messages .messages-icon
        #topnav ul.account-nav .my-stuff .mystuff-icon
        #topnav .dropdown .caret
            filter: brightness(0.4)
    a, .news li h4
        color: link
    a:hover, .news li:hover h4
        color: active
    if dark
        body
        h1, h2, h3, h4, h5
        p, .news li p
        a.social-messages-profile-link
        .outer .sort-mode .select select
        .grid .thumbnail .thumbnail-info .thumbnail-title .thumbnail-creator a
        .thumbnail-column .thumbnail .thumbnail-info .thumbnail-title .thumbnail-creator a
        #footer, #donor
        .developers #faq p
        .social-form
        .join-flow-title
            color: text
        #view
        .outer #projectBox
        .tips-getting-started, .tips-activity-guides
            background: bg
        .box .box-header
        .gray-area
        #footer, #donor
        .parents .title-banner.faq-banner
        .developers .title-banner.faq-banner
        .credits .supporters
        .download .installation
        .gender-radio-row
            background: boxhead
        .credits .logo-grid
            /* Some logos don't look well on dark background */
            background: #f7f6f8
            color: #575e75
        .box, .box .box-content
        .tab-background
        .outer .tab-background
        .tabs
        .tabs li:hover
        .os-chooser
        .modal-content
        .grid .thumbnail
        .ttt-tile
        .about .body
        .messages-social-list
        .comment-text
        .comment .comment-body .comment-bubble
        .comment .comment-body .comment-bubble::before
            background: boxbg
        .comment-text::after
            border-color: boxbg
        .tabs li
        .tabs li:hover
        .tabs li.active:hover
            color: text
        .tabs li:hover
            border-bottom-color: rgba(255, 255, 255, 0.2)
        .outer .categories li
            background-color: rgba(255, 255, 255, 0.1)
        .outer .categories li:hover
            background-color: rgba(255, 255, 255, 0.2)
        .box
        .box .box-header
        .news li:nth-child(even)
        input[type="checkbox"].formik-checkbox
            border-color: #606060
        .box .box-header
            border-top-color: transparent
        .inplace-input
        .inplace-textarea
        .textarea
        .modal
            background: boxbg
            color: text
        .textarea
            border-color: #606060
        .select select
        .select select:hover
        .select select:focus
        .select select option
        .select .join-flow-select
            color: text
            background-color: boxbg
        .preview .guiPlayer
        .gui
        .react-contextmenu
        .scratchCommentText
            color: #575e75
        img.tips-icon
        .tabs li:not(.active) .tab-icon
            filter: brightness(0) invert(1)
        .stage-header_stage-header-wrapper-overlay_5vfJa
            background: boxhead
        .stage_stage-wrapper-overlay_fmZuD
            background: boxbg
        .intro-banner
            background: transparent
        .replies.collapsed > .comment:last-of-type::after
            background: linear-gradient(rgba(37, 44, 55, 0), #252c37)
        .studio-list-bottom-gradient
            background: linear-gradient(rgba(40, 40, 40, 0), boxbg)
        ::-webkit-scrollbar
            background: boxhead
        ::-webkit-scrollbar-thumb
            background: #606060
        ::-webkit-scrollbar-thumb:hover
            background: #808080

@-moz-document regexp("https://scratch.mit.edu/discuss/.*"), url("https://scratch.mit.edu/mystuff/"), regexp("https://scratch.mit.edu/users/.*"), regexp("https://scratch.mit.edu/studios/.*"), regexp("https://scratch.mit.edu/projects/[0-9]*/(remixes|studios)/"), regexp("https://scratch.mit.edu/accounts/.*"), url("https://scratch.mit.edu/statistics/"), regexp("https://scratch.mit.edu/cloudmonitor/.*"), url("https://scratch.mit.edu/403/"), url("https://scratch.mit.edu/404/"), url("https://scratch.mit.edu/500/")
    html
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif
    body
        margin: 0
    html, body, #pagewrapper
        background: bg
        color: text
        text-shadow: none
    label
        color: text
    h1, h2, h3, h4
        color: inherit
    a, input.link
    .ui-widget-content a
        color: link
        font-weight: bold
        text-decoration: none
    a.black, a.black:visited
    input.link.black
        color: text
    a:hover
    a:active
    a.black:hover
    a.black:active
    input.link:hover
    input.link:active
    input.link.black:hover
    input.link.black:active
        color: active
        text-decoration: none
    #content
        padding-top: 70px
    .container
        width: 942px
    input, textarea
        box-shadow: none
        border-radius: 8px
        if not dark
            border: 2px solid rgba(0, 0, 0, 0.2)
        else
            border: 2px solid rgba(255, 255, 255, 0.2)
        resize: none
    input:focus
        border-color: primary
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    textarea:focus
        border: 2px solid primary!important
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    .button
    button
    .button:hover
    button:hover
    .button.grey
    button.grey
    .button[data-control=load-more]:hover
    .ui-widget button.ui-state-default
        border-radius: 4px
        border: none
        background: primary
        box-shadow: none
        font-family: inherit
        font-weight: bold
        if not lightprimary
            color: white
        else
            color: #575e75
        text-shadow: none
        cursor: pointer
    .button:not(.grey) a
    .button:not(.grey) a:hover
    .button:not(.grey) a:visited
        if not lightprimary
            color: white
        else
            color: #575e75
    .button.dropdown.open
    .button.small.dropdown.open
    button.dropdown.open
    button.small.dropdown.open
        border-bottom-left-radius: 0
        border-bottom-right-radius: 0
    .button.grey:not([data-control=load-more])
    button.grey
    .button.grey:not([data-control=load-more]):hover
    button.grey:hover
        background: boxbg
        color: link
        border: 1px solid primary
    .button.grey:not([data-control=load-more]):hover, button.grey:hover
        color: active
        border-color: active
    .button.small, button.small
        border-radius: 3px
    .button[data-control=load-more]
        display: block
        position: static !important
        width: 942px
        margin: auto
        text-align: center
    .dropdown span.dropdown-toggle:not(.black) span.caret
        width: 20px
        height: 20px
        margin-left: 8px
        border: none
        background: url(/images/dropdown.png) no-repeat center center
        background-size: 50%
        opacity: 1
    select
        -webkit-appearance: none
        -moz-appearance: none
        padding-left: 16px
        padding-right: 64px
        height: 48px
        border: 1px solid rgba(0, 0, 0, 0.1)
        transition: border-color 0.5s ease
        background: #fafafa url(https://mxmou.github.io/customize-scratch/assets/caret.svg) no-repeat right center
        color: text
        font-size: 14px
    select:hover
    select:focus
        background-image: url(https://mxmou.github.io/customize-scratch/assets/caret_hover.svg)
    select:focus
        border-color: primary
        outline: none
    .box
        background: boxhead
        border-color: #d9d9d9
        box-shadow: none
    .box .box-content
        background: boxbg
        border-color: #d9d9d9
    .slider-carousel .thumb span.owner a
        color: link
    .slider-carousel .thumb span.owner a:hover
        color: active
    #comments .comments li
        border-color: #d9d9d9
    #comments .comment .info .name a:hover
        color: link
    #comments .comment .info .time
        color: #b3b3b3
    .dropdown .dropdown-menu
        background-color: boxbg
        color: text
        font-weight: normal
        top: 24px
        left: -1px
        border: 1px solid primary
        box-shadow: none
    #footer
        background-color: boxhead
        box-shadow: none
    #footer a
        font-weight: normal
    #footer ul.footer-col li h4
        color: text
    .controls.tooltip input:focus
    .control-group.tooltip input:focus
    .controls.tooltip textarea:focus
    .controls.tooltip .tooltip-target:focus
    .control-group.tooltip textarea:focus
    .control-group.tooltip .tooltip-target:focus
    .controls.tooltip.force input
    .control-group.tooltip.force input
    .controls.tooltip.force textarea
    .controls.tooltip.force .tooltip-target
    .control-group.tooltip.force textarea
    .control-group.tooltip.force .tooltip-target
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    #topnav
        height: 50px
        box-shadow: none
    #topnav .innerwrap
        background: primary
        border-bottom: 1px solid rgba(0, 0, 0, 0.1)
        box-shadow: 0 0 3px rgba(0, 0, 0, 0.25)
        height: 50px
    #topnav .logo
        height: 50px
        margin-right: 6px
    #topnav .logo span
        background: url(/images/logo_sm.png) no-repeat center center
        background-size: 95%
        width: 81px
        height: 50px
        transition: all 0.15s ease
    #topnav .logo:hover span
        background-image: url(/images/logo_sm.png)
        background-size: 100%
    #topnav ul.site-nav
        height: 50px
    #topnav ul.site-nav li
    #topnav ul.site-nav li.last
        border: none
        line-height: 50px
    #topnav ul.site-nav li:hover
        background: rgba(0, 0, 0, 0.1)
    #topnav ul.site-nav li a
        height: 33px
        padding: 13px 15px 4px 15px
        font-size: 13.6px
        line-height: 24px
    #topnav form.search
        margin: 0 20px
    #topnav form.search input
        margin-bottom: 0
    #topnav form.search .glass
        background: url(/images/nav-search-glass.png) no-repeat center center
        background-size: 14px 14px
        width: 40px
        height: 40px
        border-right: none
        outline: none
        padding: 0
        margin-top: 5px
        opacity: 1
        cursor: pointer
        box-shadow: none
    #topnav form.search input[type=text]
        width: calc(100% - 50px)
        height: 40px
        margin-top: 5px
        padding: 0 10px 0 40px
        border-radius: 5px
        font-family: inherit
        font-size: 13.6px
        if not lightprimary
            color: white
        else
            color: #575e75
        background: rgba(0, 0, 0, 0.1)
        box-shadow: none
        transition: background-color 0.15s ease
    #topnav form.search input[type=text]:focus
        background-color: rgba(0, 0, 0, 0.2)
    #topnav form.search input[type=text]::placeholder
        if not lightprimary
            color: rgba(255, 255, 255, 0.75)
        else   
            color: rgba(87, 94, 117, 0.75)
    #topnav ul.account-nav
        margin-left: 0
        margin-bottom: 0
    #topnav ul.account-nav > li
    #topnav ul.account-nav > li.join-scratch
    #topnav ul.account-nav > li:last-child
        box-sizing: border-box
        height: 50px
        padding: 0
        border: none
        font-size: 13.6px
        line-height: 50px
    #topnav ul.account-nav > li > a
    #topnav ul.account-nav .sign-in .dropdown-toggle
        padding: 13px 15px 4px 15px
        display: block
        height: 33px
        line-height: 24px
    #topnav ul.account-nav .sign-in .dropdown-toggle
        box-sizing: border-box
    #topnav ul.account-nav li.join-scratch
    #topnav ul.account-nav > li > span
        font-size: 13.6px
    #topnav ul.account-nav .sign-in .popover
        margin-top: 40px
        background-color: primary
        cursor: auto
    #topnav ul.account-nav .sign-in .popover .arrow::after
        border-bottom-color: primary
    #login-dropdown .dropdown-menu
        max-width: 1000px
    #login-dropdown .popover-content
        padding: 19px
    #login-dropdown form
        width: 200px
    #topnav ul.account-nav .sign-in form label
        padding-top: 5px
        color: white
        font-weight: bold
        line-height: 24px
    #topnav ul.account-nav .sign-in form input
        width: calc(100% - 30px)
        height: 36px
        padding: 0 16px
        border: 1px solid rgba(0, 0, 0, 0.1)
    #login button
        margin: 5px 0
        margin-bottom: 6.4px
        padding: 9.6px
        height: auto
        background: white
        color: primary
        line-height: 24px
    #topnav ul.account-nav .sign-in form .forgot-password
        float: right
    #topnav ul.account-nav .sign-in form .forgot-password a
        color: white
    #topnav ul.account-nav.logged-in > li
        border-left: none
        line-height: inherit
    #topnav ul.account-nav.logged-in > li:hover
    #topnav ul.account-nav li.join-scratch:hover
    #topnav ul.account-nav li.sign-in:hover
    #topnav ul.account-nav li.sign-in.open
        background-color: rgba(0, 0, 0, 0.1)
    #topnav ul.account-nav .my-stuff .mystuff-icon
        background-image: url(/images/mystuff.png)
        background-size: 45%
        width: 30px
        height: 33px
        padding: 13px 10px 4px 10px
    #topnav ul.account-nav .messages .messages-icon
        background-image: url(/images/nav-notifications.png)
        background-size: 45%
        width: 30px
        height: 33px
        padding: 13px 10px 4px 10px
        position: relative
    #topnav ul.account-nav .my-stuff .mystuff-icon:hover
    #topnav ul.account-nav .messages .messages-icon:hover
        background-size: 50%
    #topnav ul.account-nav .messages .notificationsCount
        margin-top: 4px
        right: 4px
        padding: 0 4px
        min-width: 0
        height: auto
        background-color: #ffab1a
        font-size: 11.2px
        line-height: 16px
    #topnav ul.account-nav .logged-in-user
        height: 50px
    #topnav ul.account-nav .logged-in-user .user-icon
        border: none
        border-radius: 3px
        margin-right: 10px
        margin-top: 0
    #topnav ul.account-nav .logged-in-user .dropdown-toggle
        padding: 14px 15px 4px 15px
        height: 33px
        font-size: 13px
        line-height: 24px
    #topnav ul.account-nav .logged-in-user .dropdown-menu
        background-color: primary
        margin-top: 0
        top: 50px
        padding-top: 5px
        border-radius: 0 0 5px 5px
        border: 1px solid rgba(0, 0, 0, 0.1)
        min-width: 140px
        box-sizing: border-box
        background-clip: border-box
        width: 100%
        font-weight: bold
        box-shadow: none
    #topnav ul.account-nav ul.user-nav
        margin: 0
    #topnav ul.account-nav .logged-in-user.dropdown.open
        background-color: rgba(0, 0, 0, 0.1) !important
    #topnav ul.account-nav ul.user-nav li
        margin: 0.75em 0
    #topnav ul.account-nav ul.user-nav li:hover
        background: rgba(0, 0, 0, 0.1)
    #topnav ul.account-nav ul.user-nav li.logout.divider
        border-radius: 0
        border-top-color: rgba(0, 0, 0, 0.1)
        padding: 0
    #topnav li.logout.divider input
    #topnav li.logout.divider input:hover
        border-radius: 0
        background-color: transparent
        padding-left: 10px
        font-weight: inherit
        cursor: pointer
    .banner
        top: 50px
    .modal-backdrop
    .modal-backdrop.fade.in
    .ui-widget-overlay
        background: primary
        opacity: 0.7
    .modal
    .jqui-modal
    .jqui-modal.ui-corner-all
        padding: 0
        border-radius: 16px
        border: none
        box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.15)
    .modal-header
    .jqui-modal .ui-dialog-titlebar.ui-widget-header
        padding-left: 16px
        padding-top: 8px
        padding-right: 8px
        border-radius: 16px 16px 0 0
        background: primary
        box-shadow: inset 0 -1px 0 0 active
        if not lightprimary
            color: white
        else
            color: #575e75
    .modal .modal-header .close
    .jqui-modal .ui-widget-header .ui-dialog-titlebar-close
        width: 32px
        height: 32px
        margin-top: 0
        border-radius: 16px
        background: rgba(0, 0, 0, 0.2)
        line-height: 32px
        text-align: center
        color: white
        opacity: 1
        text-shadow: none
    .jqui-modal .ui-widget-header .ui-dialog-titlebar-close
        top: 5px
    .jqui-modal .ui-widget-header .ui-dialog-titlebar-close .ui-icon-closethick
        background: url(/svgs/modal/close-x.svg) no-repeat 0 0
    .modal-header label
        if not lightprimary
            color: white
        else
            color: #575e75
    #featured-project-modal label
        margin-top: 8px
    .jqui-modal .ui-dialog-content
        padding: 16px
    .jqui-modal .ui-dialog-buttonpane
        padding: 16px
        padding-top: 0
        margin-top: 0
    #featured-project-modal .modal-body
        background: rgba(77, 151, 255, 0.1)
    #featured-project-modal .project.thumb
        border: none
        background: boxbg
    .modal-footer
        border-radius: 0 0 16px 16px
        border: none
        background: transparent
        text-align: right
    .modal-footer .btn:not(.blue)
        border: 1px solid rgba(0, 0, 0, 0.1)
        background: white
        color: link
    if dark
        .box
        .box .box-content
            border-color: #606060
        .box .box-head
            border-color: transparent
        input, textarea, select
        .editable.write, .editable:hover
            background-color: boxbg
            color: text
        .ui-widget-content
            color: text
        .dropdown .dropdown-menu li:hover
            background-color: #606060
        .dropdown span.dropdown-toggle.black span.caret
            border-top-color: white
        .icon-xs.black
        .icon-sm.black
            filter: brightness(0) invert(1)

    /* Error pages */
    #page-403, #page-404, #page-500
        border-radius: 0
        border: none
        background: transparent
    #page-500
        width: 100%
        min-height: 100vh
        background: #f8aa36
        color: white
    #page-404 .box-head, #page-500 .box-head
        display: none
    #page-403 .box-head
        border: none
        text-align: center
    #page-403 .box-content, #page-404 .box-content, #page-500 .box-content
        border: none
        background: transparent
    #page-404 img
        padding-top: 20px !important
    #page-404 .box-header, #page-500 .box-header
        background: transparent
    #page-404 .box-header h1
        margin-top: -4px
        color: text
        font-size: 40px
        line-height: 1.7em
    #page-404 .box-content p
        margin: 1em 0
        font-size: 16px
        line-height: 1.5em
    #page-500 .box-header h1
    #page-500 p
    #page-500 a
        color: white
    #page-500 a:hover
        text-decoration: underline
    #page-500 img:last-child
        content: url("/images/logo_sm.png")

@-moz-document regexp("https://scratch.mit.edu/discuss/.*")
    /* Forums */
    #content
        width: 100%
        min-width: 942px
        padding-top: 50px
    .linkst, .linksb
    .blocktable
    .blockpost
    .block /* The "notice" at the top */
    .djangobb #reply
    .djangobb > .box:not(#brdheader):not(#brdfooter) /* The "edit post" box */
    .blockform /* Change your signature */
        width: 942px
        margin: auto
    #messages
        margin-bottom: 40px
    #brdheader
        margin-bottom: 40px
        padding-top: 20px
        padding-bottom: 8px
        border: none
        border-radius: 0
        background: #0fbd8c
    #brdheader .box-head
        width: 942px
        margin: auto
        padding: 0
        border: none
    #brdheader .box-head h2
        padding: 5px 0
        margin-bottom: 16px
        color: white
        font-size: 40px
        line-height: 1.7em
    #brdmenu
        width: 942px
        margin: auto
        padding: 0
        border: none
        background: transparent
    #brdmenu a
        color: white
    #brdmenu a:hover
        text-decoration: underline
    #brdfooter
        margin-top: 40px
        margin-bottom: 0
        border-radius: 0
        border: none
    #brdfooter .box-content
        box-sizing: border-box
        width: 942px
        margin: auto
        padding-top: 20px
        padding-left: 4px
        padding-right: 4px
        background: transparent
    #brdfooter .box-content button
        margin: 0
    .blockpost div.box
        background-color: primary
        border-top-color: primary
    .blockpost .box-head
        border-top-color: primary
    .blockpost .box-head a:hover
        text-decoration: underline
    .blockpost .box-content
    .postright
    .postfootright
        background-color: boxbg
    .postleft, .postfootleft
        background-color: boxhead
    .postright, .postfootright
        border-left-color: boxhead
    .djangobb th, .tc2, .tc3
        background: boxhead
    .topic_isread a
        font-weight: normal
    .djangobb > .postmsg /* Post preview */
        box-sizing: border-box
        padding: 8px
    if dark
        .djangobb td
        .djangobb th
        .djangobb blockquote
        .markItUpPreviewFrame
            border-color: #606060
        .postright, .postfootright
            box-shadow: inset 1px 0 #606060
        .postleft, .postfootleft, .blockpost label
            box-shadow: 1px 0 #606060
        .djangobb blockquote
            background: boxhead
        .djangobb hr
            background: #606060
        .markItUpHeader > ul > li
        .markItUpHeader > ul > .markItUpDropMenu
            background-color: #e0e0e0
            border-radius: 3px
            margin-right: 4px
            margin-bottom: 6px
        .markItUpHeader > ul > .markItUpDropMenu
            background-position: 20px center
        .markItUpHeader > ul > .markItUpDropMenu > a
            width: 24px
            background-position: 3px center
        .markItUpHeader > ul > .markItUpDropMenu > ul
            top: 21px
        .markItUpHeader > ul > li > a
        .markItUp .browser-os-button a
            background-position: center center
        .markItUpHeader > ul > .markItUpSeparator
            height: 22px
            background-color: #606060
            color: transparent
        .markItUpHeader > ul > li:hover
            background-color: white

@-moz-document regexp("https://scratch.mit.edu/discuss/topic/.*")
    #brdfooter .foot
        margin-top: 40px

@-moz-document regexp("https://scratch.mit.edu/discuss/youtube/.*")
    /* YouTube video player */
    #content
        width: 942px
        margin-top: 20px
    #content .box
    #content .box .box-head
    #content .box .box-content
        border-radius: 0
        border: none
        background: transparent
    #content > .cols > .col-10 > .box .box-head
        display: none
    #content > .cols > .col-10 > .box .box-content
        padding: 0
    .youtube-player
        width: 100%
    #content > .cols > .col-6 > .box .box-head
        padding-top: 0

@-moz-document regexp("https://scratch.mit.edu/users/[^/]+/(#.*)?")
    /* Profile page */
    #content
        width: 100%
    #profile-data
    #content > .slider-carousel-container
        width: 942px
        margin-left: auto
        margin-right: auto
    .slider-carousel.horizontal .slider-carousel-control
        width: 40px
        height: 40px
    .slider-carousel-control
    .slider-carousel-control:hover
    .slider-carousel .slider-carousel-control.off
        opacity: 1
        background-color: transparent
        color: transparent
        background-size: 70%
        background-repeat: no-repeat
        background-position: center center
    .slider-carousel-control.arrow-left
        background-image: url(/svgs/carousel/prev_ui-dark-gray.svg)
    .slider-carousel-control.arrow-right
        background-image: url(/svgs/carousel/next_ui-dark-gray.svg)
    .slider-carousel .thumb span.title a
        font-weight: bold /* instead of 800 */
    .gallery.thumb span.image img
        margin: 0
    .gallery.thumb span.image
    #profile-data
    #profile-data .box-head
    #profile-box
    #profile-box .inner
    #profile-box .doing
    #profile-data .footer
        border: none
        background: transparent
    #profile-data .box-head
    #profile-data .footer
        padding: 0
        border-radius: 0
    #profile-box .about
        padding-left: 0
    #profile-box .doing
        padding-right: 0
    .box .box-head .portrait
        height: 64px
        margin-right: 16px
    .box .box-head .portrait img
        width: 64px
        height: 64px
        border-radius: 5px
        border: none
    .box .box-head .header-text h2
        font-size: 28px
        font-weight: normal
        line-height: normal
    .header-text .profile-details
        color: text
    .header-text .profile-details .group
        border-color: text
    #profile-data .box-head .buttons
        top: 0
        right: 0
    #profile-box .inner
        padding-top: 16px !important
    #bio-readonly
    #status-readonly
    #profile-box #bio textarea
    #profile-box #status textarea
        color: text
    #profile-box .player
        border-radius: 4px
        border: none
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    .activity-stream .actor a
        color: text !important
    /* Profile Comments */
    #content > .box:not(#profile-data):not(.slider-carousel-container)
        border-radius: 0
        border: none
        background: rgba(77, 151, 255, 0.1)
        padding-top: 16px
        padding-bottom: 16px
        margin-bottom: 0
    #content > .box:not(#profile-data):not(.slider-carousel-container) .box-head
    #content > .box:not(#profile-data):not(.slider-carousel-container) .box-content
        border: none
        background: transparent
        width: 942px
        margin: auto
    #content > .box:not(#profile-data):not(.slider-carousel-container) .box-head
        padding: 16px 0
    #content > .box:not(#profile-data):not(.slider-carousel-container) .box-head h4
        font-size: 20px
        line-height: 1.7em
    #comments #comments-enabled-box
        padding: 0
        padding-bottom: 16px
        border-bottom: none
    #comments #comment-form
        padding: 0
        margin-bottom: 24px
    #comments #comment-form textarea
        width: 875px
        height: 100px
    #comments .comment form
        margin-left: 1.5rem
    #comments .comment form textarea
        width: 855.5px
        height: 100px
    #comments .reply .comment form textarea
        width: 785.5px
    #comments #comments-loading
        background-color: transparent
    #comments .more-replies
        if not dark
            background-color: #eaf1fc
        else
            background-color: #252c37
            box-shadow: 0 -25px 20px -10px black

@-moz-document regexp("https://scratch.mit.edu/studios/.*")
    /* Studios */
    #gallery
        width: 942px
        margin: 0
    .box .box-head
        position: absolute
        top: 0
        left: 50%
        transform: translateX(-50%) /* Center horizontally */
        width: 942px
        padding: 0
    .box .box-head h2
        font-size: 28px
        font-weight: normal
    .box .box-head .buttons
        top: 0
        right: 0
    .box
        margin-top: 77px
    .box .box-content
        margin-top: 30px
    #gallery > .col-4
        width: 226px
        margin-left: 0
        margin-right: 16px
    #gallery > .col-12
        margin: 0
    .v-tabs.gallery-info
        margin-right: 0 !important
        padding: 0
        border: none
        background: transparent
    #gallery-cover-image
        width: 226px
    #description .viewport
        margin-right: 0
    #gallery > .col-12 > .box
        border-radius: 0
        border-color: transparent
        background: transparent
    #gallery > .col-12 > .box > .box-content
        border-color: transparent
        background: transparent
    #tabs
        height: 30px
        margin-left: 0
        background: boxbg
        box-shadow: 0 0 1px rgba(0, 0, 0, 0.25)
        text-align: center
    #tabs li
        display: inline-block
        float: none
        border: none
        background: transparent
    #tabs li a
        display: inline-block
        box-sizing: border-box
        height: 30px
        border: none
        color: text
    #tabs li.active a
    #tabs li.active:hover a
        border-bottom: 3px solid #0fbd8c
    #tabs li:hover a
        if not dark
            border-bottom: 3px solid rgba(0, 0, 0, 0.2)
        else
            border-bottom: 3px solid rgba(255, 255, 255, 0.2)
    .box .box-content .action-bar .inner
        border: none
        padding-left: 0
        padding-right: 0
    .box .box-content .action-bar.white .inner
        background: transparent
    #add-project-dialog input[type=text]
    #add-curator-dialog input[type=text]
        border-top-right-radius: 0
        border-bottom-right-radius: 0
    #add-project-dialog .button
    #add-curator
        height: 30px
        border-width: 2px
    #explore-bar #explore-header
        border-color: rgba(0, 0, 0, 0.15)
        background: boxbg
        box-shadow: none
        color: text
        text-shadow: none
    #explore-bar #open, #explore-bar #close
        filter: brightness(0.4) /* Or the white icon is invisible */
    /* Studio Projects */
    .media-grid.projects
        margin-top: 14px
        margin-left: 0
    .media-grid.projects .project.thumb.item
        margin-right: 13px
        margin-bottom: 12px
        padding: 8px
        border-radius: 4px
        background: boxbg
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    .media-grid.projects .project.thumb.item:nth-child(4n)
        margin-right: 0
    .thumb img
        border: none
    /* Studio Comments */
    #comments #comment-form
        padding-left: 0
        padding-right: 0
    #comments #comment-form textarea
        width: 631px
        height: 100px
    #comments .comment form
        margin-left: 1.5rem
    #comments .comment form textarea
        width: 611.5px
        height: 100px
    #comments .reply .comment form textarea
        width: 541.5px
    #comments .more-replies
        background-color: bg
        if dark
            box-shadow: 0 -25px 20px -10px black
    .button[data-control=load-more]
        width: 698px
    /* Studio Curators */
    .tab-content h2
        margin-left: 0
        margin-right: 0
    ul.curators
        margin: 0
    ul.curators li
        width: 205px
        border-radius: 4px
        border: none
        background: boxbg
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    ul.curators li img
        border: none
    /* Studio Activity */
    .notification-feed
        padding: 0

@-moz-document regexp("https://scratch.mit.edu/projects/.*/remixtree/")
    #zoomContainer
        height: 24px
    .zoom
        background: white
        height: 24px
    .zoom img
        display: inline-block
        width: 24px
        height: 24px
    .zoom:hover
        margin: 0
    #zoomOut
        border-top-left-radius: 4px
        border-bottom-left-radius: 4px
    #zoomOut img
        content: url(/static/assets/1fa6345d57ffc67eccd9f44cf6a383dd.svg)
    #zoomEqual img
        content: url(/static/assets/dba629c24296756d68a135988fe96011.svg)
    #zoomIn
        border-top-right-radius: 4px
        border-bottom-right-radius: 4px
    #zoomIn img
        content: url(/static/assets/3cfc9b39a0d002246119d47f6756d77e.svg)

@-moz-document url("https://scratch.mit.edu/mystuff/")
    /* My Stuff */
    #content
        padding-top: 50px
        width: 100%
        min-width: 942px
    #content > .cols
        width: 100%
        margin: 0
        position: relative
    #content > .cols > *
        width: 100%
        margin: 0
    #content > .cols > .col-4
        position: absolute
        top: 164px
        z-index: 1
    .v-tabs
        margin: 0
        margin-right: 0 !important
        border-radius: 0
        width: 100%
        border: none
        background: boxbg
        box-shadow: 0 0 1px rgba(0, 0, 0, 0.25)
    .v-tabs ul
        display: flex
        justify-content: center
    .v-tabs li.first
        border-radius: 0
    .v-tabs li
        border: none
    .v-tabs li a
        color: text
    .v-tabs li.active, .v-tabs li.active:hover
        border-bottom: 3px solid #0fbd8c
        background: transparent
    .v-tabs li.active a
        color: text
        text-shadow: none
    .v-tabs li:hover
        if not dark
            border-bottom: 3px solid rgba(0, 0, 0, 0.2)
        else
            border-bottom: 3px solid rgba(255, 255, 255, 0.2)
        background: transparent
    .v-tabs li:hover a
        color: text
    #sidebar li.sub-list a
        margin-left: 0
    .box-content#main-content
        padding-top: 42px
        background: bg
    .box
        position: relative
    #content > .cols > .col-12 > .box, .box .box-head
        border-radius: 0
        border: none
        background: primary
    .box .box-head
        width: 942px
        margin: auto
        padding: 20px 0
    .box .box-head h2
        padding: 5px 0
        if not lightprimary
            color: white
        else
            color: #575e75
        font-size: 40px
        line-height: 1.7em
    .box .box-head .buttons
        position: static
        margin-top: 20px
    .box .box-content
        position: static
    .action-bar
        position: absolute
        top: 20px
        right: calc((100vw - 942px) / 2)
    .box .box-content .action-bar .inner
        padding: 0
        border: none
        background: transparent
    .action-bar .inner .dropdown
    .action-bar .inner .dropdown:hover
        height: 46px
        border-color: rgba(0, 0, 0, 0.1)
        transition: border-color 0.5s ease
        background: #fafafa url(https://mxmou.github.io/customize-scratch/assets/caret.svg) no-repeat right center
        if dark
            background-color: boxbg
        color: text
        font-weight: normal
    .action-bar .inner .dropdown:hover
        background-image: url(https://mxmou.github.io/customize-scratch/assets/caret_hover.svg)
    .action-bar .inner .dropdown:focus
    .action-bar .inner .dropdown.open
        background-image: url(https://mxmou.github.io/customize-scratch/assets/caret_hover.svg)
        border-color: primary
    .action-bar .inner .dropdown .dropdown-toggle
        display: block
        height: 100%
        margin: 0
        padding: 0
        padding-left: 16px
        padding-right: 64px
        line-height: 46px
    .action-bar .inner .dropdown .dropdown-toggle .caret
        display: none
    .action-bar .inner .dropdown .dropdown-menu
        top: 44px
        border-color: inherit
        background-clip: border-box
    .action-bar .inner .button
        height: 46px
    .action-bar .inner .button > span
        line-height: 44px
    .box .box-content .media-list
        width: 942px
        margin: auto
    .media-list li
        border: none
    .media-list .media-item-content
        margin-bottom: 14px
        border-radius: 4px
        background: boxbg
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)

@-moz-document url("https://scratch.mit.edu/accounts/settings/"), url("https://scratch.mit.edu/accounts/password_change/"), url("https://scratch.mit.edu/accounts/email_change/")
    /* Account Settings */
    #pagewrapper
        position: relative
    #content > .cols
        position: static
        padding-top: 40px
    .box .box-head
        position: absolute
        top: 50px
        left: 0
        width: 100%
        padding: 0
        padding-top: 20px
        padding-bottom: 8px
        border-radius: 0
        background: primary
    .box .box-head h2
        width: 942px
        margin: auto
        margin-bottom: 16px
        padding: 5px 0
        color: white
        font-size: 40px
        line-height: 1.7em
    #content
        padding-top: 173px
    #content > .cols > .col-4
        margin: 0
        width: 30%
        float: right
    .v-tabs
        margin: 0 !important
        border-radius: 0
        border: none
        border-left: 1px solid #d9d9d9
        background: transparent
    .v-tabs ul
        padding-top: 16px
        padding-bottom: 16px
        padding-left: 20px
    .v-tabs li
    .v-tabs li.active
    .v-tabs li:hover
    .v-tabs li.active:hover
        margin: 12px 0
        border: none
        background: transparent
        font-size: 16px
        line-height: 24px
    .v-tabs li a
        padding: 0
        color: primary
    .v-tabs li:hover a
        color: active
    .v-tabs li.active a
        color: text
        text-shadow: none
    #content > .cols > .col-12
        margin: 0
        width: 60%
        float: left
    #content > .cols > .col-12 .box
    #main-content
        padding: 0
        border: none
        background: transparent

@-moz-document url("https://scratch.mit.edu/statistics/")
    if dark
        .box .box-content
            /* Charts don't look well on dark background */
            background: white
            color: #575e75

@-moz-document url("https://scratch.mit.edu/contact-us/")
    if dark
        .elements__AttachFiles-sc-1ku14sw-2 *
        /* Fix the upload files button */
            color: #575e75

@-moz-document url("https://download.scratch.mit.edu/scratch2download/")
    html, body
        margin: 0
        background: bg
        color: text
    .box
        width: 100%
        border-radius: 0
        box-shadow: none
    .box .box-head
        display: none
    .box, .box .box-content
        border: none
        background: transparent
    .box .box-header
        background: primary
    .box .box-header h2
        width: 942px
        margin: auto
        padding-top: 25px
        padding-bottom: 29px
        color: white
        font-size: 40px
        line-height: 1.7em
    .box .box-content > :not(.box-header)
        width: 942px
        margin-left: auto
        margin-right: auto
    .lg-msg::before
        content: "Scratch 2.0 is outdated. The current version of Scratch, 3.0, can be downloaded from https://scratch.mit.edu/download."
        display: block
        margin-bottom: 20px
        font-weight: bold
    .columns
        display: flex
    .columns > *
        flex-grow: 1
        flex-basis: 0
        margin: 7px
        padding: 8px
        border-radius: 4px
        background: white
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    .columns h3
        color: text
    a
        color: primary
        font-weight: bold
        text-decoration: none
    a:hover
        color: active
    
@-moz-document regexp("https://scratch.mit.edu/studios/.*"), regexp("https://scratch.mit.edu/users/.*")
    /* Comments */
    #comments form .small-text
        color: text
    #comments .comment
        margin-left: 0
        margin-right: 0
    #comments .comments li
    #comments ul.comments ul li
        /* Remove separators */
        border: none
    #comments .comments .info
    #comments .comments li ul li .comment .info
        width: calc(100% - 55px)
    #comments .comment .info .content
        position: relative
        if not dark
            border: 1px solid #d9d9d9
        else
            border: 1px solid #606060
        border-bottom: none
        border-top-right-radius: 5px
        padding: 1rem
        margin-left: 1.5rem
        margin-bottom: 0
        background-color: boxbg
        overflow: visible !important
    #comments .comment .info > div:not(.name):not(.content):not([data-content=reply-form])
        margin-left: 1.5rem
        padding: 1rem
        padding-top: 0
        border-bottom-left-radius: 5px
        border-bottom-right-radius: 5px
        if not dark
            border: 1px solid #d9d9d9
        else
            border: 1px solid #606060
        border-top: none
        background-color: boxbg
    #comments .content:after
        display: block
        position: absolute
        top: 0
        left: -12px
        border-bottom: 10px solid boxbg
        border-left: 12px solid boxbg
        border-radius: 0 0 0 12px
        width: 0
        content: ""
    #comments .content:before
        display: block
        position: absolute
        top: -1px
        left: -13px
        border-bottom: 12px solid #d9d9d9
        border-left: 13px solid #d9d9d9
        if dark
            border-color: #606060
        border-radius: 0 0 0 13px
        width: 0
        content: ""
    #comments .highlighted
        background: rgba(77, 151, 255, 0.1)
        box-shadow: 0 0 0 8px rgba(77, 151, 255, 0.1)
        border-radius: 8px
    #comments .comment .info .name a
        color: text

@-moz-document regexp("https://scratch.mit.edu/projects/.*")
    .stats .project-remixes
        position: relative
    html:not(.remixtree-available) .stats .project-remixes:hover::after
        content: "Want the remix tree back?\a Go to https://github.com/mxmou/customize-scratch"
        white-space: pre
        display: block
        position: absolute
        top: 48px
        padding: 7px
        border-radius: 5px
        background: rgba(255, 191, 0, 0.25)
        font-weight: normal
        font-size: 14px
        line-height: 18px
